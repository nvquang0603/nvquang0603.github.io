<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta class="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Totoro Drink - Đặt hàng</title>

</head>
<body>
	<div class="container">
		<header>
		<div class="logo" href="index.html"><a href="index.html"><img src="imgs/logo.png"></a></div>
		<nav>
			<ul>
				<li><a href="index.html">Trang chủ</a></li>
				<li><a href="thucdon.html">Thực đơn</a></li>
				<li><a href="hoadon.html">Hóa đơn</a></li>
				<li><a href="dangky.html">Đăng ký</a></li>
			</ul>
		</nav>
		<form>
			<input type="text" id="search" required="required" class="search" required>
			<input type="submit" id="searchbtn" class="searchbtn" value="Tìm kiếm">
		</form>
	</header>
	<article>
		<div class="board-full">
				<h1>Chỉ một mà thôi?</h1>
				<strong><p>Nhanh tay check <strong style="color: #9A1818;">THỰC ĐƠN</strong>. Chi tiết và đầy đủ thông tin về thức uống bạn muốn tìm</p></strong>
				<a class="btn" href="thucdon.html">Xem Menu</a>
		</div>
		<div class="title">
			<h1>Hóa đơn nhanh</h1>
		</div>
		<div>
			<form>
			<table>
	<thead>
	<tr>
		<th><input type="checkbox" id="checkhet" onchange="checkall();"></th>
		<th>Đồ uống</th>
		<th>Đơn giá</th>
		<th>Số lượng</th>
		<th>Thành tiền</th>
	</tr>
	</thead>
	<tbody>
		
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"></th>
		<td>Trà sữa Matcha Đậu Đỏ</td>		
		<td><input type="text" value="43000" class="dongia"  readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien" readonly></td>		
	</tr>
	<tr>		
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Alisan</td>		
		<td><input type="text" value="36000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien();"/></td>
		<td><input type="text" class="thanhtien" readonly></td>
		
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Oolong Vải</td>
		<td><input type="text" value="57000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien" readonly></td>
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Sữa Lạc Tiên</td>
		<td><input type="text" value="57000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien"  readonly></td>
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Sữa Chocolate</td>
		<td><input type="text" value="47000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien" readonly></td>
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Sữa Hokkaido</td>
		<td><input type="text" value="43000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien"  readonly></td>
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Sữa Khoai Môn</td>
		<td><input type="text" value="47000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien" readonly></td>
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Sữa Cà Phê</td>
		<td><input type="text" value="43000" class="dongia"readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()"/></td>
		<td><input type="text" class="thanhtien" readonly></td>
	</tr>
	<tr>
		<th><input class="checkboxes" type="checkbox" onchange="checko();tinhtien();"/></th>
		<td>Trà Sữa Chocomint</td>
		<td><input type="text" value="24000" class="dongia" readonly></td>
		<td><input class="solg" type="text" onchange="tinhtien()" /></td>
		<td><input type="text" class="thanhtien" readonly></td>
	</tr>
	<tr>
		<td colspan="4" style="font-weight: bold;font-size: 18px;text-align: right;color: #740101;">Tổng:</td>
		<td><input type="text" id="total" readonly></td>
	</tr>

	</tbody>
	</table>
	</form>
		</div>
	</article>
	<footer>
		Nguyễn Viết Quang - PH05487
	</footer>
	</div>
	<script type="text/javascript">
		var sl = document.getElementsByClassName('solg');
		var tick = document.getElementsByClassName('checkboxes');
		var tickall = document.getElementById('checkhet');
		var dongia = document.getElementsByClassName('dongia');
		var thanhtien = document.getElementsByClassName('thanhtien');
		var tongtien = document.getElementById('total');
		window.onload = function() {
			for(var i=0;i<sl.length;i++){
			sl[i].disabled = true;
			sl[i].value = 0;
			}
		}
		function checko() {
			for(var i=0;i<sl.length;i++){
				sl[i].disabled = !tick[i].checked;
				if(!tick[i].checked) {
					sl[i].value = 0;
					thanhtien[i].value ="";
				}
			}
		}
		function checkall() {
			for(var i=0;i<tick.length;i++) {
				tick[i].checked = tickall.checked;
				sl[i].disabled = !tickall.checked;
				if(!tickall.checked){
					sl[i].value = 0;
					thanhtien[i].value = "";
					tongtien.value = "";
				}
				else {
					thanhtien[i].value = 0;
					tongtien.value = 0;
				}
			}
		}
		function tinhtien() {
			var tong = 0;			
			for(var i=0;i<sl.length;i++) {
			if(tick[i].checked){
			if(isNaN(sl[i].value)||sl[i].value<0||sl[i].value!=parseInt(sl[i].value)){
				alert("Vui lòng nhập số nguyên và không âm");
				sl[i].value = 0;
				thanhtien[i].value = 0;
				break;
			}
			else {
				thanhtien[i].value = dongia[i].value * sl[i].value;
				tong += Number(thanhtien[i].value);
			}
			}
			}
			document.getElementById('total').value = tong;
		}
	</script>
</body>
</html>